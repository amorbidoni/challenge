<div class="component" [ngStyle]="hanldeFilterBlur()">
  <div class="add-product">
    <div class="title">
      <h2 class="title__primary">Add products</h2>
    </div>
    <form (ngSubmit)="submit()" class="form" [formGroup]="myForm">
      <div class="form__item">
        <input
          id="input--name"
          type="text"
          class="form__item--input"
          formControlName="name"
          placeholder="Name"
        />
        <label for="input--name" class="form__item--label">Name</label>
        <p *ngIf="validForm('name')" class="form__item--alert">* Required</p>
        <div [ngStyle]="styleLineForm('name')" class="form__item--line"></div>
      </div>
      <div class="form__item">
        <input
          id="input--sku"
          type="text"
          class="form__item--input"
          formControlName="SKU"
          placeholder="SKU"
        />
        <label for="input--sku" class="form__item--label">SKU</label>
        <p *ngIf="validForm('SKU')" class="form__item--alert">* Required</p>
        <div [ngStyle]="styleLineForm('SKU')" class="form__item--line"></div>
      </div>
      <div class="form__item">
        <input
          id="input--code"
          type="text"
          class="form__item--input"
          formControlName="code"
          placeholder="Code"
        />
        <label for="input--code" class="form__item--label">Code</label>
        <p *ngIf="validForm('code')" class="form__item--alert">
          * {{ codeErrorMsg }}
        </p>
        <div [ngStyle]="styleLineForm('code')" class="form__item--line"></div>
      </div>
      <div class="form__item">
        <input
          id="input--description"
          type="text"
          class="form__item--input"
          formControlName="description"
          placeholder="Description"
        />
        <label for="input--description" class="form__item--label"
          >Description</label
        >
        <p *ngIf="validForm('description')" class="form__item--alert">
          * Required
        </p>
        <div
          [ngStyle]="styleLineForm('description')"
          class="form__item--line"
        ></div>
      </div>
      <div class="form__item">
        <input
          id="input--pictures"
          type="file"
          class="form__item--input"
          formControlName="pictures"
          placeholder="Pictures"
          (change)="addPictures($event)"
          multiple
          [value]="srcArr"
          accept="image/*"
        />
        <label for="input--pictures" class="form__item--label">Pictures</label>
        <svg
          class="form__item--icon"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
        >
          <path
            d="M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"
          />
        </svg>
        <p class="input-file__data">{{ inputFileData }}</p>
        <p *ngIf="validForm('pictures')" class="form__item--alert">
          * Required
        </p>
        <div
          [ngStyle]="styleLineForm('pictures')"
          class="form__item--line"
        ></div>
      </div>
      <div class="form__item">
        <input
          id="input--price"
          type="number"
          class="form__item--input input-file"
          formControlName="price"
          placeholder="Price"
        />
        <label for="input--price" class="form__item--label">Price</label>
        <p *ngIf="validForm('price')" class="form__item--alert">* Required</p>
        <div [ngStyle]="styleLineForm('price')" class="form__item--line"></div>
      </div>
      <div class="form__item">
        <input
          id="input--currency"
          type="text"
          class="form__item--input"
          formControlName="currency"
          placeholder="Currency"
        />
        <label for="input--currency" class="form__item--label">Currency</label>
        <p *ngIf="validForm('currency')" class="form__item--alert">
          * Required
        </p>
        <div
          [ngStyle]="styleLineForm('currency')"
          class="form__item--line"
        ></div>
      </div>
      <div class="form__btns">
        <button class="btn btn__primary--light" type="submit">
          Add product
        </button>
      </div>
    </form>
  </div>
</div>
<div
  *ngIf="modalConfirmationOpen"
  [class]="modalConfirmationOpen && 'overlay overlay-animation'"
></div>
<div *ngIf="modalConfirmationOpen" class="modal-confirmation" [@modalAnimation]>
  <app-modal-product-confirmation
    [product]="newProductPreview"
    (emmitCloseModal)="handleConfirmationModal($event)"
    [imageUrl]="imageUrl"
  ></app-modal-product-confirmation>
</div>
